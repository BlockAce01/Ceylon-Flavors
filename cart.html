<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Box icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <!-- Custom StyleSheet -->
  <link rel="stylesheet" href="./css/styles.css" />
  <title>Your Cart</title>
  <link rel="icon" type="image" href="images/images (2).jpeg">
</head>

<body>

  <!--nav bar -->
  <div class="navigation">
    <div class="nav-center container d-flex">
      <a href="index.html" class="logo">
        <h1>Ceylon Flavors</h1>
      </a>
      <ul class="nav-list d-flex">
        <li class="nav-item">
          <a href="index.html" class="nav-link">Home</a>
        <li class="nav-item dropdown">
          <a href="product.html" class="nav-link">Menu</a>
          <ul class="dropdown-content">
            <li><a href="product.html#Appetizers" class="dropdown-link">Appetizers</a></li>
            <li><a href="product.html#MainCourses" class="dropdown-link">Main Courses</a></li>
            <li><a href="product.html#Seafood" class="dropdown-link">Seafoods</a></li>
            <li><a href="product.html#Vegetarian" class="dropdown-link">Vegetarian</a></li>
            <li><a href="product.html#Side" class="dropdown-link">Side Dishes</a></li>
            <li><a href="product.html#Breads" class="dropdown-link">Breads & Roti</a></li>
            <li><a href="product.html#Dessert" class="dropdown-link">Desserts</a></li>
            <li><a href="product.html#Beverages" class="dropdown-link">Beverages</a></li>
          </ul>
        </li>
        <li class="nav-item">
          <a href="about.html" class="nav-link">About</a>
        </li>
        <li class="nav-item">
          <a href="#foot" class="nav-link">Contact</a>
        </li>
        <li class="nav-item lognav">
          <a href="login.html" class="nav-link">Login</a>
        </li>
      </ul>

      <div class="icons d-flex">
        <a href="cart.html" class="icon" title="Cart">
          <i class="bx bx-cart"></i>
        </a>
      </div>

      <div class="hamburger">
        <i class="bx bx-menu-alt-left"></i>
      </div>
    </div>
  </div>

  <!-- Cart Items -->
  <div class="container cart">
    <table>
      <tr>
        <th>Food Item</th>
        <th>Portion Size (1 or 2)</th>
        <th>Item Quantity</th>
        <th>Subtotal</th>

      </tr>
      
      
    </table>
    <div class="total-price">
      <!--<table>
        <tr>
          <td>Subtotal</td>
          <td></td>
        </tr>
        <tr>
          <td>Tax</td>
          <td></td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
        </tr>
      </table>-->
      <a href="#" class="checkout btn">Proceed To Checkout</a>
    </div>
  </div>


  <!-- Signature Dishes-->

  <section class="section new-arrival">
    <div class="title">
      <h1>Our Signature Dishes</h1>
      <p>The Menus unique to our restaurant</p>
    </div>

    <div class="product-center">
      <div class="product-item">
        <div class="overlay">
          <a href="" class="product-thumb">
            <img src="images\new-menu\vegetable-samosa-main.webp" alt="" />
          </a>
        </div>
        <div class="product-info">
          <span>Appetizers</span>
          <a href="">Vegetable Samosas</a>
          <h4>Rs.200.00</h4>
        </div>
        <a href="cart.html"><ul class="icons">
          <li><i class="bx bx-cart"></i></li>
        </ul></a>
      </div>

      <div class="product-item">
        <div class="overlay">
          <a href="" class="product-thumb">
            <img src="images\new-menu\Sri-lankan-fish-ambulthiyal1-960x667.webp" alt="" />
          </a>
        </div>
        <div class="product-info">
          <span>Seafood</span>
          <a href="">Fish Ambul Thiyal</a>
          <h4>Rs.450.00</h4>
        </div>
        <a href="cart.html"><ul class="icons">
          <li><i class="bx bx-cart"></i></li>
        </ul>
        </a>
      </div>

      <div class="product-item">
        <div class="overlay">
          <a href="" class="product-thumb">
            <img src="images\new-menu\polroti.jpeg" alt="" />
          </a>
        </div>
        <div class="product-info">
          <span>Breads and Roti</span>
          <a href="">Coconut Roti</a>
          <h4>Rs.200.00</h4>
        </div>
        <a href="cart.html"><ul class="icons">
          <li><i class="bx bx-cart"></i></li>
        </ul></a>
      </div>

      <div class="product-item">
        <div class="overlay">
          <a href="" class="product-thumb">
            <img src="images\new-menu\R (2).jpeg" alt="" />
          </a>
        </div>
        <div class="product-info">
          <span>Main Courses</span>
          <a href="">String Hoppers</a>
          <h4>Rs.250.00</h4>
        </div>
        <a href="cart.html"><ul class="icons">
          <li><i class="bx bx-cart"></i></li>
        </ul>
        </a>
      </div>

  </section>




  <!-- Contact -->
  <section class="section contact">
    <div class="row">
      <div class="col">
        <pre><h2>          OPEN HOURS</h2><br></pre>
        <pre><p>
          Monday    -    9.00am-11.00pm<br>
          Tuesday   -    9.00am-11.00pm<br>
          Wednesday -    9.00am-11.00pm<br>
          Thursday  -    9.00am-11.00pm<br>
          Friday    -    9.00am-12.00am<br>
          Saturday  -    9.00am-12.00am<br>
          Sunday    -    9.00am-12.00am
        </p></pre>



      </div>
      <div class="col">
        <h2>EXCELLENT SUPPORT</h2>
        <p>To get News And Offers Contact Us!</p>
        <a href="" class="btn btn-1">Contact us</a> <br><br>

        <form action="">
          <div>
            <input type="email" placeholder="Email Address">
            <a href="">Send</a>
          </div>
        </form>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer" id="foot">
    <div class="row">
      <div class="col d-flex">
        <h4>CONTACT US</h4>
        <p>
          Hela Bojun Restaurant.<br>
          Prince street,<br>
          Colombo 5,<br>
          Sri Lanka.
        </p>

      </div>
      <div class="col d-flex">
        <p>
          T : 011 1234567<br>
          F : +94111234567<br>
          E : helabojun@gmail.com

        </p>

      </div>

      <div class="col d-flex">
        <span><i class='bx bxl-facebook-square'></i></span>
        <span><i class='bx bxl-instagram-alt'></i></span>
        <span><i class='bx bxl-twitter'></i></span>

      </div>
    </div>
  </footer>

  <script src="./js/index.js"></script>
  <!--add cart-->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const cartItem = JSON.parse(localStorage.getItem('cartItem'));
  
      if (cartItem) {
        const cartTable = document.querySelector('.cart table');
        const newRow = document.createElement('tr');
  
        newRow.innerHTML = `
          <td>
            <div class="cart-info">
              <img src="${cartItem.image}" alt="${cartItem.name}" />
              <div>
                <p>${cartItem.name}</p>
                <span>Price: Rs.${cartItem.price}</span> <br />
                <a href="#" onclick="removeItem(event)">remove</a>
              </div>
            </div>
          </td>
          <td><input type="number" value="${cartItem.portionSize}" min="1" max="2" /></td>
          <td><input type="number" value="${cartItem.quantity}" min="1" /></td>
          <td>Rs.${(cartItem.price * cartItem.quantity * cartItem.portionSize).toFixed(2)}</td>
        `;
  
        cartTable.appendChild(newRow);
  
        // Add event listeners for quantity and portion size changes
        newRow.querySelectorAll('input[type="number"]').forEach(input => {
          input.addEventListener('change', function() {
            updateSubtotal(newRow);
            updateTotalPrice();
          });
        });
  
        updateTotalPrice();
      }
    });
  
    function updateSubtotal(row) {
      const price = parseFloat(row.querySelector('.cart-info span').textContent.replace('Price: Rs.', ''));
      const quantity = parseInt(row.querySelector('input[type="number"]:nth-of-type(2)').value);
      const portionSize = parseInt(row.querySelector('input[type="number"]:nth-of-type(1)').value);
  
      const subtotal = price * quantity * portionSize;
      row.querySelector('td:last-child').textContent = `Rs.${subtotal.toFixed(2)}`;
      console.log(subtotal);
      
    }
  
    function updateTotalPrice() {
      let total = 0;
      document.querySelectorAll('.cart tr').forEach(row => {
        const subtotalText = row.querySelector('td:last-child').textContent;
        if (subtotalText) {
          const subtotal = parseFloat(subtotalText.replace('Rs.', ''));
          total += subtotal;
        }
      });
      document.querySelector('.total-price tr:nth-child(1) td:nth-child(2)').textContent = `Rs.${total.toFixed(2)}`;
      document.querySelector('.total-price tr:nth-child(3) td:nth-child(2)').textContent = `Rs.${total.toFixed(2)}`;
    }
  
    function removeItem(event) {
      event.preventDefault();
      const row = event.target.closest('tr');
      row.remove();
      updateTotalPrice();
    }
  </script>
</body>

</html>